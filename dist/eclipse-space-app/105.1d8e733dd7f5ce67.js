"use strict";(self.webpackChunkEclipseSpaceApp=self.webpackChunkEclipseSpaceApp||[]).push([[105],{7105:(d,r,c)=>{c.r(r),c.d(r,{DrawTimeIModule:()=>m});var l=c(1181),a=c(668),t=c(8256);const u=["coloringCanvas"],h=[{path:"",redirectTo:"DrawTimeI",pathMatch:"full"},{path:"DrawTimeI",component:(()=>{class s{constructor(){this.ctx=null,this.isDrawing=!1,this.selectedColor="black",this.isEraserMode=!1}ngOnInit(){this.canvas=this.canvasRef?.nativeElement,this.ctx=this.canvas?.getContext("2d");const e=new Image;e.src="assets/colorimage.jpg",e.onload=()=>{this.ctx&&this.ctx.drawImage(e,0,0)}}ngAfterViewInit(){this.canvas=this.canvasRef?.nativeElement,this.ctx=this.canvas?.getContext("2d"),this.canvas.addEventListener("mousedown",()=>this.startDrawing()),this.canvas.addEventListener("mousemove",e=>this.onMouseMove(e)),this.canvas.addEventListener("mouseup",()=>this.stopDrawing()),this.canvas.addEventListener("mouseleave",()=>this.stopDrawing())}startDrawing(){this.isDrawing=!0,this.ctx?.beginPath()}onMouseMove(e){if(!this.isDrawing)return;const i=e.offsetX,n=e.offsetY;null!=this.ctx&&(this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.lineWidth=10),this.isEraserMode?null!=this.ctx&&(this.ctx.globalCompositeOperation="destination-out",this.ctx.strokeStyle="rgba(0,0,0,0)"):"rgb(0,0,0)"!==this.getImagePixelColor(i,n)&&null!=this.ctx&&(this.ctx.globalCompositeOperation="source-over",this.ctx.strokeStyle=this.selectedColor),this.ctx?.lineTo(i,n),this.ctx?.stroke()}getImagePixelColor(e,i){if(this.ctx){const o=this.ctx.getImageData(e,i,1,1).data;return`rgb(${o[0]}, ${o[1]}, ${o[2]})`}return"rgb(0,0,0)"}stopDrawing(){this.isDrawing=!1,this.ctx?.closePath()}onMouseClick(e){const i=e.offsetX,n=e.offsetY;this.getPixelColor(i,n),null!=this.ctx&&(this.ctx.fillStyle="red",this.ctx.fillRect(i,n,5,5))}selectColor(e){this.selectedColor=e}getPixelColor(e,i){if(this.ctx){const o=this.ctx.getImageData(e,i,1,1).data;return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${o[3]/255})`}return null}toggleEraser(){this.isEraserMode=!this.isEraserMode,this.canvas.style.cursor=this.isEraserMode?"url(eraser-cursor.png), auto":"crosshair"}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-draw-time"]],viewQuery:function(i,n){if(1&i&&t.Gf(u,5),2&i){let o;t.iGM(o=t.CRH())&&(n.canvasRef=o.first)}},decls:13,vars:0,consts:[[1,"color-palette",2,"height","30px"],[1,"color-button",2,"background-color","red",3,"click"],[1,"color-button",2,"background-color","rgb(21, 96, 188)",3,"click"],[1,"color-button",2,"background-color","rgb(255, 221, 0)",3,"click"],[1,"color-button",2,"background-color","rgb(34, 203, 0)",3,"click"],[1,"color-button",2,"background-color","rgb(155, 21, 176)",3,"click"],[1,"color-button",2,"background-color","rgb(218, 36, 148)",3,"click"],[1,"color-button",2,"background-color","rgb(255, 255, 255)",3,"click"],[1,"color-button",2,"background-color","rgb(246, 165, 43)",3,"click"],["width","1500","height","700",2,"border","1px solid"],["coloringCanvas","","canvas",""]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"button",1),t.NdJ("click",function(){return n.selectColor("red")}),t.qZA(),t.TgZ(2,"button",2),t.NdJ("click",function(){return n.selectColor("blue")}),t.qZA(),t.TgZ(3,"button",3),t.NdJ("click",function(){return n.selectColor("yellow")}),t.qZA(),t.TgZ(4,"button",4),t.NdJ("click",function(){return n.selectColor("green")}),t.qZA(),t.TgZ(5,"button",5),t.NdJ("click",function(){return n.selectColor("purple")}),t.qZA(),t.TgZ(6,"button",6),t.NdJ("click",function(){return n.selectColor("pink")}),t.qZA(),t.TgZ(7,"button",7),t.NdJ("click",function(){return n.selectColor("white")}),t.qZA(),t.TgZ(8,"button",8),t.NdJ("click",function(){return n.selectColor("orange")}),t.qZA()(),t.TgZ(9,"canvas",9,10),t._uU(12," Fallback content\n"),t.qZA())},styles:[".color-button[_ngcontent-%COMP%]{width:20px;height:30px}"]})}return s})()}];let g=(()=>{class s{static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275mod=t.oAB({type:s});static#o=this.\u0275inj=t.cJS({imports:[a.Bz.forChild(h),a.Bz]})}return s})(),m=(()=>{class s{static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275mod=t.oAB({type:s});static#o=this.\u0275inj=t.cJS({imports:[l.ez,g]})}return s})()}}]);